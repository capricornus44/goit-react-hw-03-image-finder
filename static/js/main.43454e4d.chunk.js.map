{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.scss","components/Modal/Modal.module.scss","components/Spinner/Spinner.module.scss","components/ImageGallery/ImageGallery.module.scss","components/Button/Button.module.scss","App.module.scss","services/pixabayApi.js","components/Searchbar/Searchbar.jsx","components/Spinner/Spinner.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/Button/Button.jsx","components/Modal/Modal.jsx","App.jsx","index.js","components/Searchbar/Searchbar.module.scss"],"names":["module","exports","request","currentPage","perPage","axios","get","then","response","data","hits","Searchbar","state","searchQuery","handleChange","event","value","currentTarget","setState","handleSubmit","preventDefault","trim","props","onSubmit","toast","error","className","scss","searchbar","searchForm","this","type","searchFormButton","searchFormButtonLabel","searchFormInput","autoComplete","autoFocus","placeholder","onChange","Component","Spinner","loader","color","height","width","timeout","ImageGalleryItem","src","source","alt","id","onClick","imageGalleryItem","imageGalleryItemImage","ImageGallery","imageGallery","map","hit","webformatURL","largeImageURL","tags","Button","button","modalRoot","document","querySelector","Modal","handleKeyDown","code","onClose","handleBackdropClick","target","window","addEventListener","removeEventListener","createPortal","overlay","modal","App","showModal","isLoading","onChangeQuery","seachQuery","fetchHits","options","pixabayApi","prevState","catch","finally","scrollTo","top","documentElement","scrollHeight","behavior","toggleModal","prevProps","app","length","autoClose","position","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.43454e4d.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGalleryItem\":\"ImageGalleryItem_imageGalleryItem__3h79-\",\"imageGalleryItemImage\":\"ImageGalleryItem_imageGalleryItemImage__R39pD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__31gf9\",\"modal\":\"Modal_modal__EqBCh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"Spinner_loader__3r3ES\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGallery\":\"ImageGallery_imageGallery__2ivvv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__1fCHB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"App_app__1t6Tc\"};","import axios from 'axios';\r\n\r\nconst fetchHits = ({ request = '', currentPage = 1, perPage = 15 }) => {\r\n  return axios\r\n    .get(\r\n      `https://pixabay.com/api/?q=${request}&page=${currentPage}&key=20669309-c97d1ec468a66ad87fd39e114&image_type=photo&orientation=horizontal&per_page=${perPage}`,\r\n    )\r\n    .then(response => response.data.hits);\r\n};\r\n\r\nexport default { fetchHits };\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport scss from './Searchbar.module.scss';\r\n\r\nclass Searchbar extends Component {\r\n  state = {\r\n    searchQuery: '',\r\n  };\r\n\r\n  handleChange = event => {\r\n    const { value } = event.currentTarget;\r\n\r\n    this.setState({\r\n      searchQuery: value,\r\n    });\r\n  };\r\n\r\n  handleSubmit = event => {\r\n    event.preventDefault();\r\n\r\n    const { searchQuery } = this.state;\r\n\r\n    if (searchQuery.trim() === '') {\r\n      toast.error('Enter correct value!');\r\n      return;\r\n    }\r\n\r\n    this.props.onSubmit(searchQuery);\r\n\r\n    this.setState({\r\n      searchQuery: '',\r\n    });\r\n  };\r\n\r\n  // ======================== Rendering ===========================================\r\n  render() {\r\n    return (\r\n      <header className={scss.searchbar}>\r\n        <form className={scss.searchForm} onSubmit={this.handleSubmit}>\r\n          <button type=\"submit\" className={scss.searchFormButton}>\r\n            <span className={scss.searchFormButtonLabel}>Search</span>\r\n          </button>\r\n\r\n          <input\r\n            className={scss.searchFormInput}\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n            value={this.state.searchQuery}\r\n            onChange={this.handleChange}\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nSearchbar.propTypes = {\r\n  onSubmit: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Searchbar;\r\n","import { Component } from 'react';\r\nimport Loader from 'react-loader-spinner';\r\nimport scss from './Spinner.module.scss';\r\n\r\nclass Spinner extends Component {\r\n  render() {\r\n    return (\r\n      <Loader\r\n        className={scss.loader}\r\n        type=\"ThreeDots\"\r\n        color=\"#00BFFF\"\r\n        height={100}\r\n        width={100}\r\n        timeout={3000}\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\nexport default Spinner;\r\n","import PropTypes from 'prop-types';\r\nimport scss from './ImageGalleryItem.module.scss';\r\n\r\nconst ImageGalleryItem = ({ src, source, id, alt, onClick }) => {\r\n  return (\r\n    <li className={scss.imageGalleryItem}>\r\n      <img\r\n        src={src}\r\n        alt={alt}\r\n        className={scss.imageGalleryItemImage}\r\n        onClick={() => onClick(source)}\r\n      />\r\n    </li>\r\n  );\r\n};\r\n\r\nImageGalleryItem.propTypes = {\r\n  src: PropTypes.string.isRequired,\r\n  source: PropTypes.string.isRequired,\r\n  alt: PropTypes.string.isRequired,\r\n  onClick: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","import PropTypes from 'prop-types';\r\nimport ImageGalleryItem from '../ImageGalleryItem/';\r\n\r\nimport scss from './ImageGallery.module.scss';\r\n\r\nconst ImageGallery = ({ hits, onClick }) => {\r\n  return (\r\n    <ul className={scss.imageGallery}>\r\n      {hits.map(hit => (\r\n        <ImageGalleryItem\r\n          key={hit.id}\r\n          src={hit.webformatURL}\r\n          source={hit.largeImageURL}\r\n          id={hit.id}\r\n          alt={hit.tags}\r\n          onClick={onClick}\r\n        />\r\n      ))}\r\n    </ul>\r\n  );\r\n};\r\n\r\nImageGallery.propTypes = {\r\n  hits: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      id: PropTypes.number.isRequired,\r\n    }),\r\n  ).isRequired,\r\n};\r\n\r\nexport default ImageGallery;\r\n","import PropTypes from 'prop-types';\r\nimport scss from './Button.module.scss';\r\n\r\nconst Button = ({ type = 'button', onClick }) => (\r\n  <button className={scss.button} type={type} onClick={onClick}>\r\n    Load more\r\n  </button>\r\n);\r\n\r\nButton.propTypes = {\r\n  onClick: PropTypes.func.isRequired,\r\n  type: PropTypes.string.isRequired,\r\n};\r\n\r\nexport default Button;\r\n","import React, { Component } from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport PropTypes from 'prop-types';\r\nimport scss from './Modal.module.scss';\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\nclass Modal extends Component {\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  // ========================= Function to close modal box by pushing ESCAPE =======================\r\n  handleKeyDown = event => {\r\n    if (event.code === 'Escape') {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  // ========================= Function to close modal box by clicking on BACKDROP/OVERLAY ==========\r\n  handleBackdropClick = event => {\r\n    if (event.currentTarget === event.target) {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return createPortal(\r\n      <div className={scss.overlay} onClick={this.handleBackdropClick}>\r\n        <div className={scss.modal}>\r\n          <img src={this.props.largeImageURL} alt=\"\" />\r\n        </div>\r\n      </div>,\r\n      modalRoot,\r\n    );\r\n  }\r\n}\r\n\r\nModal.propTypes = {\r\n  largeImageURL: PropTypes.string.isRequired,\r\n  onClose: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Modal;\r\n","import React, { Component } from 'react';\r\nimport { ToastContainer } from 'react-toastify';\r\nimport pixabayApi from './services/pixabayApi';\r\nimport Searchbar from './components/Searchbar';\r\nimport Spinner from './components/Spinner';\r\nimport ImageGallery from './components/ImageGallery';\r\nimport Button from './components/Button';\r\nimport Modal from './components/Modal';\r\n\r\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\r\nimport scss from './App.module.scss';\r\n\r\nclass App extends Component {\r\n  state = {\r\n    showModal: false,\r\n    hits: [],\r\n    currentPage: 1,\r\n    request: '',\r\n    isLoading: false,\r\n    error: null,\r\n    largeImageURL: '',\r\n  };\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (prevState.request !== this.state.request) {\r\n      this.fetchHits(this.state.request);\r\n    }\r\n  }\r\n\r\n  onChangeQuery = seachQuery => {\r\n    this.setState({\r\n      request: seachQuery,\r\n      currentPage: 1,\r\n      hits: [],\r\n      error: null,\r\n    });\r\n  };\r\n\r\n  // ======================== HTTP request logic ==================================\r\n\r\n  fetchHits = () => {\r\n    const { currentPage, request } = this.state;\r\n    const options = { currentPage, request };\r\n\r\n    this.setState({ isLoading: true });\r\n\r\n    pixabayApi\r\n      .fetchHits(options)\r\n      .then(hits => {\r\n        this.setState(prevState => ({\r\n          hits: [...prevState.hits, ...hits],\r\n          currentPage: prevState.currentPage + 1,\r\n        }));\r\n      })\r\n      .catch(error => this.setState({ error }))\r\n      .finally(() => {\r\n        this.setState({ isLoading: false });\r\n        window.scrollTo({\r\n          top: document.documentElement.scrollHeight,\r\n          behavior: 'smooth',\r\n        });\r\n      });\r\n  };\r\n\r\n  // ======================== Function to open/close modal box ====================\r\n  toggleModal = hit => {\r\n    this.setState(({ showModal }) => ({\r\n      showModal: !showModal,\r\n      largeImageURL: hit,\r\n    }));\r\n  };\r\n\r\n  // ======================== Rendering ===========================================\r\n  render() {\r\n    const { hits, isLoading, showModal, largeImageURL } = this.state;\r\n\r\n    return (\r\n      <div className={scss.app}>\r\n        <Searchbar onSubmit={this.onChangeQuery} />\r\n\r\n        <ImageGallery hits={hits} onClick={this.toggleModal} />\r\n\r\n        {isLoading && <Spinner />}\r\n        {hits.length > 0 && !isLoading && <Button onClick={this.fetchHits} />}\r\n        <ToastContainer autoClose={3000} position=\"top-right\" type=\"default\" />\r\n        {showModal && (\r\n          <Modal largeImageURL={largeImageURL} onClose={this.toggleModal} />\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nimport 'modern-normalize/modern-normalize.css';\nimport './styles/base.scss';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchbar\":\"Searchbar_searchbar__1iO6e\",\"searchForm\":\"Searchbar_searchForm__H0o40\",\"searchFormButton\":\"Searchbar_searchFormButton__2MuhZ\",\"searchFormButtonLabel\":\"Searchbar_searchFormButtonLabel__3xIO9\",\"searchFormInput\":\"Searchbar_searchFormInput__3Xg_o\"};"],"sourceRoot":""}